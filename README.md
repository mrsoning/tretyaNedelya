# БытСервис — система учёта заявок на ремонт бытовой техники

Веб-приложение для учёта заявок на ремонт: создание заявок, назначение мастеров, комментарии, статистика и модуль качества.

## Технологии

- **Node.js**, **Express**
- **SQLite** (база в `data/repair_service.db`)
- **EJS** (шаблоны)
- **Bootstrap 5**, **Chart.js**
- Сессии: **express-session**
- Импорт данных: **csv-parser**
- QR-коды: **qrcode**

## Установка и запуск

```bash
npm install
npm start
```

Сервер по умолчанию: **http://localhost:3001**

Режим разработки с автоперезапуском:

```bash
npm run dev
```

## Тестовые учётные записи

Данные подставляются из `Ресурсы/import_БытСервис/Пользователи/inputDataUsers.txt`:

| Роль      | Логин        | Пароль   |
|-----------|--------------|----------|
| Менеджер  | kasoo        | root     |
| Мастер    | murashov123  | qwerty   |
| Мастер    | test1        | test1    |
| Оператор  | perinaAD     | 250519   |
| Оператор  | krutiha1234567 | 1234567890 |
| Заказчик  | login2       | pass2    |
| Заказчик  | login3       | pass3    |

## Роли и возможности

- **Заказчик** — просмотр своих заявок, создание заявки от своего имени.
- **Оператор** — приём заявок, создание заявок для клиентов, просмотр заявок, статистика.
- **Мастер** — заявки, назначенные ему, и нераспределённые; смена статуса, комментарии.
- **Менеджер** — полный доступ: заявки, пользователи, статистика, панель качества (просроченные заявки, QR для оценки).

## Структура проекта

```
src/
  app.js              — точка входа, маршруты, API
  database/database.js — инициализация БД, импорт из CSV
  routes/             — auth, requests, users, statistics, quality
  views/              — EJS-шаблоны (layout, dashboard, заявки, качество и т.д.)
data/                 — SQLite-база
database/             — SQL-скрипты (создание схемы, отчёты)
Ресурсы/import_БытСервис/ — исходные данные для импорта (пользователи, заявки, комментарии)
```

## Тесты

```bash
npm test
```

Запускаются тесты аутентификации, валидации заявок и расчёта статистики (Jest + Supertest).

## Отчёты по заданиям

Материалы по заданиям лежат в каталоге `отчеты по заданиям/`.
